<div class="container">
  <div class="row">
    <div class="col">
      <%= form_with method: :get , url: search_result_path do |f| %>
        <div class="form-group">
          <%= f.text_field :seachdata, size: 40 %>
          <%= f.select :is_search_category, options_for_select([['User'], ['Post']])%>
          <%= f.select :is_search_condition, options_for_select([['PartialMatch'], ['PerfectMatch']]) %>
          <%= f.submit "検索" ,class: "btn btn-primary"%>
          <%= button_tag "さらに絞り込む", type: "button", onclick: "downcontent()", class: "btn btn-outline-secondary", :id=>"dropdown_button" %>
          <div id="dropdown_content">
            <%= f.label "季節"%>
            <%= f.select :is_search_season, [['全季節', 'all_seasons']] + Post.seasons.keys.map { |key| [key.humanize, key] },{}, {class:"form-control"} %>
            <%= f.label "場所"%>
            <%= f.select :is_search_place, [['全旅行先', 'all_places']] + Post.places.keys.map { |key| [key.humanize, key] },{}, {class:"form-control"} %>
            <%= f.label "何泊"%>
            <%= f.select :is_search_night, [['指定なし', 'all_nights']] + Post.nights.keys.map { |key| [key.humanize, key] },{}, {class:"form-control"}%>
            <%= f.label "人数"%>
            <%= f.select :is_search_people, [['指定なし', 'all_people']] + Post.people.keys.map { |key| [key.humanize, key] },{}, {class:"form-control"} %>
          </div>
        </div>
      <% end %>
      <script>
       function downcontent(){
          var content = document.getElementById('dropdown_content');
          var button = document.getElementById('dropdown_button');
          console.log(content);
          if(content.style.display == 'block'){
            content.style.display = 'none'
            button.textContent = 'さらに絞り込む'

          }else{
            content.style.display = 'block'
            button.textContent = '閉じる'
          }
       }
      </script>
    </div>
  </div>
</div>


